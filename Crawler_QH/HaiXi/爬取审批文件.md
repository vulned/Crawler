1. 打开项目审批页面

2. 引入包

   ```python
   import = requests
   from urllib import request
   from lxml import etree
   ```

3. 网络请求，拿到列表页html

   ```python
   resp = requests.get(url)
   text = resp.content.decode()
   html = etree.HTML(text)
   ```

4. 使用xpath，拿到列表集ul

5. 循环获取每个li，并返回数组

```python
ul = html.xpath('//div[@class="new_list"]//li')
```

```python
for li in ul:
    detail_url = li.xpath('./a/@href')
    detail_url = 'http://sthjj.haixi.gov.cn' + detail_url[0]
    detail_urls.append(detail_url)
return detail_urls
```

### 疑问：xpath('./a/@href')，'.'的意义

主函数部分

调用拿取列表的函数

```python
urls_list = get_pdf_urls(url)
```

遍历列表

```python
for detl_url in url_list:
	# 网络请求，拿到html
```

xpath得到下载地址和pdf文件名

```python
    download_url = html.xpath('//a[@class="ke-insertfile"]/@href')
    file_name = html.xpath('//a[@class="ke-insertfile"]//span')
```

遍历下载地址

``` python
	try:
        for pdfs in download_url:
```

